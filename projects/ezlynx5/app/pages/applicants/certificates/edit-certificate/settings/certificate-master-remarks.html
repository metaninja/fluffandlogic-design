<div class="form-group">
    <label>Save Time&mdash;Add Agency Level Remark:</label>
    <select class="form-control js-select-master-remark" onchange="addToMasterRemarks(this)">
        <option>-- Select --</option>
        <option value="1">The policy includes a Blanket Additional Insured and a Blanket Waiver of Subrogation.</option>
    </select>
</div>

<div class="form-group">
    <textarea class="form-control js-custom-remark" rows="8" onkeyup="renameCustomSnippet(this)"></textarea>
</div>



<div class="form-inline">
    <label for="save-to-agency-snippets">
        Save to <a href="javascript:void(0);" class=" ml-1 mr-2">Agency Master Remarks List</a>
    </label>

    <label class="switch" for="save-to-agency-snippets">
        <input type="checkbox" id="save-to-agency-snippets">
        <div class="slider round">
            <span class="on">YES</span>
            <span class="off">NO</span>
        </div>
    </label>
</div>

<script>
    function renameCustomSnippet(textarea) {
        if ($('.js-select-master-remark').find(':selected').val() === "custom") {
            var name = $(textarea).val().slice(0,60);
            $('.js-select-master-remark').find(':selected').text(name);
        }
    }

    function addToMasterRemarks(select) {
        var text = $('.js-custom-remark').val();
        var vehicle = $(select).find(':selected').text() + "\n";
        $('.js-custom-remark').val(text + vehicle);
    }

    // function updateRemark(select) {
    //     var agencyRemark = "";
    //
    //     if ($('.js-select-master-remark').find(':selected').val() === "custom") {
    //         agencyRemark = "";
    //     }
    //     else {
    //         agencyRemark = "The policy includes a Blanket Additional Insured and a Blanket Waiver of Subrogation."
    //     }
    //
    //     $('.js-custom-remark').text(agencyRemark);
    // }
</script>