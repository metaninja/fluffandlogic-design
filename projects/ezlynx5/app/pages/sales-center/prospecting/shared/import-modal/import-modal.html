<div class="modal fade" id="import-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="linearicon-cross linearicon-lg" aria-hidden="true"></i>
                </button>
                <h5 class="modal-title" id="exampleModalLabel">Import List</h5>
            </div>
            
            <div class="bff-include js-import-modal-content js-import-modal-upload-file-page hide-content" data-src="app/pages/sales-center/prospecting/shared/import-modal/upload-file.html"></div>

            <div class="bff-include js-import-modal-content js-import-modal-map-column-headers-page hide-content" data-src="app/pages/sales-center/prospecting/shared/import-modal/map-column-headers.html"></div>

            <div class="bff-include js-import-modal-content js-import-modal-review-imported-statement hide-content" data-src="app/pages/sales-center/prospecting/shared/import-modal/review-imported-statement.html"></div>

            <div class="bff-include js-import-modal-content js-import-modal-create-list-page hide-content" data-src="app/pages/sales-center/prospecting/shared/import-modal/create-list.html"></div>
        </div>
    </div>
</div>

<script>
    function toggleImportModal() {
        $("#import-modal").modal("toggle");
        showUploadFileView();
    }

    function hideAllImportModalViews() {
        $(".js-import-modal-content").hide();
        $(".modal:visible .modal-dialog").removeClass("modal-full-width");
    }

    function showUploadFileView() {
        hideAllImportModalViews();
        $(".js-import-modal-upload-file-page").show();
    }

    function showMapColumnHeadersView() {
        hideAllImportModalViews();
        $(".js-import-modal-map-column-headers-page").show();
    }

    function showReviewImportedStatementsView() {
        hideAllImportModalViews();
        $(".js-import-modal-review-imported-statement").show();
        $(".modal:visible .modal-dialog").addClass("modal-full-width");
    }

    function showCreateListView() {
        hideAllImportModalViews();
        $(".js-import-modal-create-list-page").show();
    }

    function hideValidationMessage() {
        $(".js-list-validation").hide();
    }

    function addNewList() {
        var name = $(".js-new-list-name").val();

        if (name !== "") {
            var $newList = $(".prospecting-list").eq(2).clone();
            $newList.find(".prospecting-list-name").text(name);
            $(".js-list-names-sortable").append($newList);
            toggleImportModal();
            hideValidationMessage();
        } else {
            $(".js-list-validation").show();
        }
    }
</script>