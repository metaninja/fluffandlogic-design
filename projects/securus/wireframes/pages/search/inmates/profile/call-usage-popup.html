<div class="col-md-12 popup popup-call-usage">

    <h3 class="settings-headline">Call Usage
        <div class="pull-right">
            <a class="btn btn-link no-padding hide-popup-call-usage">Close &nbsp;<i class="fa fa-times"></i></a>
        </div>
    </h3>

    <div class="row">

        <div class="col-md-9">
            <div class="form-group">
                <label for="reservation">
                    Date Range
                </label>

                <div class="input-group">
                    <input type="text" id="reservation" class="form-control" placeholder="">
                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="form-group">
                <label>&nbsp;</label>
                <button class="btn btn-primary btn-search">Search</button>
            </div>
        </div>

    </div>

    <div class="bff-include" data-src="include/results-export.html"></div>

    <div class="activity-chart">
        <div class="graph-inmate-activity">
            <div class="chart-selector" align="center">
                <a class="show-dialed-number">Graph View</a>
                <a class="show-inmate-activity active">Table View</a>
            </div>

            <div class="table-view">

                <table class="table table-call-usage-detail">
                    <thead>
                        <th>
                            <input type="checkbox">
                        </th>
                        <th>Call Type</th>
                        <th>Attempted</th>
                        <th>Connected</th>
                        <th>Accepted</th>
                        <th>Denied</th>
                        <th>Blocked</th>
                        <th>Minutes</th>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <input type="checkbox">
                            </td>
                            <td><a>Debit/Trust Fund (non-private)</a>
                            </td>
                            <td>360</td>
                            <td>298</td>
                            <td>290</td>
                            <td>1</td>
                            <td>0</td>
                            <td>104</td>
                        </tr>
                        <tr>
                            <td>
                                <input type="checkbox">
                            </td>
                            <td><a>Collect (non-private)</a>
                            </td>
                            <td>351</td>
                            <td>231</td>
                            <td>217</td>
                            <td>0</td>
                            <td>30</td>
                            <td>74</td>
                        </tr>
                        <tr>
                            <td>
                                <input type="checkbox">
                            </td>
                            <td><a>Free (non-private)</a>
                            </td>
                            <td>152</td>
                            <td>108</td>
                            <td>94</td>
                            <td>0</td>
                            <td>7</td>
                            <td>54</td>
                        </tr>
                        <tr>
                            <td>
                                <input type="checkbox">
                            </td>
                            <td><a>Calling Card (non-private)</a>
                            </td>
                            <td>294</td>
                            <td>258</td>
                            <td>253</td>
                            <td>0</td>
                            <td>2</td>
                            <td>436</td>
                        </tr>
                        <tr>
                            <td>
                                <input type="checkbox">
                            </td>
                            <td><a>Crime Tip (non-private)</a>
                            </td>
                            <td>6</td>
                            <td>4</td>
                            <td>0</td>
                            <td>0</td>
                            <td>1</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td>
                                <input type="checkbox">
                            </td>
                            <td><a>Crime Tip (private)</a>
                            </td>
                            <td>1</td>
                            <td>1</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td>
                                <input type="checkbox">
                            </td>
                            <td><a>Probono (non-private)</a>
                            </td>
                            <td>1</td>
                            <td>1</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td>
                                <input type="checkbox">
                            </td>
                            <td><a>Direct Bill (non-private)</a>
                            </td>
                            <td>50</td>
                            <td>21</td>
                            <td>20</td>
                            <td>0</td>
                            <td>0</td>
                            <td>4</td>
                        </tr>
                        <tr>
                            <td>
                                <input type="checkbox">
                            </td>
                            <td><a>Instant Pay/FCC2 (non-private)</a>
                            </td>
                            <td>169</td>
                            <td>135</td>
                            <td>1</td>
                            <td>0</td>
                            <td>6</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td>
                                <input type="checkbox">
                            </td>
                            <td>Total Calls</td>
                            <td>1384</td>
                            <td>1057</td>
                            <td>875</td>
                            <td>1</td>
                            <td>46</td>
                            <td>676</td>
                        </tr>
                    </tbody>

                </table>
            </div>

        </div>

        <div class="graph-dialed-number">

            <div class="chart-selector" align="center">
                <a class="show-dialed-number active">Graph View</a>
                <a class="show-inmate-activity">Table View</a>
            </div>

            <canvas id="call-usage" width="848" height="350"></canvas>

        </div>

        <div class="graph-view">

            <canvas id="call-usage" width="848" height="350"></canvas>

        </div>

    </div>

</div>

<script>
$(document).ready(function() {
    
    $('.popup-call-usage').hide();

    $('.show-popup-call-usage').click(function() {
        $('.popup-call-usage').show().velocity({
            width: "100%",
            height: "100%"
        });
    });

    $('.hide-popup-call-usage').click(function() {
        $('.popup-call-usage').velocity({
            width: "0",
            height: "0"
        },500).hide();
    });

});

// Show & hide charts
$('.graph-inmate-activity').hide();
$('.graph-dialed-number').show();

$('.show-inmate-activity').click(function() {
    $('.graph-inmate-activity').show();
    $('.graph-dialed-number').hide();
});

$('.show-dialed-number').click(function() {
    $('.graph-inmate-activity').hide();
    $('.graph-dialed-number').show();
});

//-------------------------------------------------
//    Call Usage Detail Line Graph
//-------------------------------------------------

// Chart data
var usageData = {
    labels: ["Attempted", "Connected", "Accepted", "Denied", "Blocked", "Minutes"],
    datasets: [{
        label: "Debit/Trust Fund",
        fillColor: "rgba(220,220,220,0.2)",
        strokeColor: "rgba(220,220,220,1)",
        pointColor: "rgba(220,220,220,1)",
        pointStrokeColor: "#fff",
        pointHighlightFill: "#fff",
        pointHighlightStroke: "rgba(220,220,220,1)",
        data: [20, 17, 16, 0, 0, 10]
    }, {
        label: "My Second dataset",
        fillColor: "rgba(220,220,220,0.2)",
        strokeColor: "rgba(151,187,205,1)",
        pointColor: "rgba(151,187,205,1)",
        pointStrokeColor: "#fff",
        pointHighlightFill: "#fff",
        pointHighlightStroke: "rgba(151,187,205,1)",
        data: [6, 0, 0, 0, 6, 0]
    }, {
        label: "My Second dataset",
        fillColor: "rgba(220,220,220,0.2)",
        strokeColor: "rgba(151,187,205,1)",
        pointColor: "rgba(151,187,205,1)",
        pointStrokeColor: "#fff",
        pointHighlightFill: "#fff",
        pointHighlightStroke: "rgba(151,187,205,1)",
        data: [26, 17, 13, 0, 0, 6]
    }, {
        label: "My Second dataset",
        fillColor: "rgba(220,220,220,0.2)",
        strokeColor: "rgba(151,187,205,1)",
        pointColor: "rgba(151,187,205,1)",
        pointStrokeColor: "#fff",
        pointHighlightFill: "#fff",
        pointHighlightStroke: "rgba(151,187,205,1)",
        data: [16, 15, 15, 0, 0, 20]
    }, {
        label: "My Second dataset",
        fillColor: "rgba(220,220,220,0.2)",
        strokeColor: "rgba(151,187,205,1)",
        pointColor: "rgba(151,187,205,1)",
        pointStrokeColor: "#fff",
        pointHighlightFill: "#fff",
        pointHighlightStroke: "rgba(151,187,205,1)",
        data: [1, 1, 0, 0, 0, 1]
    }]
};

var usageOptions = {
    bezierCurve: true,
    scaleShowGridLines: true,
    animationEasing: "easeOutBounce",
    animateRotate: true,
};

// Get chart canvas
var callUsage = document.getElementById('call-usage').getContext('2d');

// Draw chart
new Chart(callUsage).Line(usageData, usageOptions);
</script>
